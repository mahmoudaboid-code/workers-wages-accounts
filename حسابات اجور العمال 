from flask import Flask, render_template_string, request

app = Flask(__name__)

html_code = """
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>حسابات أجور العمال</title>
<style>
    body {
        background-color: #007BFF;
        color: white;
        font-family: Arial, sans-serif;
        text-align: center;
    }
    table {
        margin: auto;
        background-color: white;
        color: black;
        border-collapse: collapse;
        width: 95%;
    }
    th, td {
        border: 1px solid black;
        padding: 6px;
    }
    button {
        background-color: red;
        color: white;
        padding: 5px 10px;
        border: none;
        cursor: pointer;
    }
    input {
        width: 100px;
        padding: 3px;
    }
    .footer {
        margin-top: 20px;
        background: #0056b3;
        padding: 10px;
        color: white;
    }
    .footer a {
        color: yellow;
        text-decoration: none;
        font-weight: bold;
    }
</style>
<script>
function calculate(i) {
    let monthly = parseFloat(document.getElementById("monthly"+i).value) || 0;
    let daily = parseFloat(document.getElementById("daily"+i).value) || 0;
    let absent = parseFloat(document.getElementById("absent"+i).value) || 0;
    let total = monthly - (daily * absent);
    document.getElementById("total"+i).innerText = total;
}
function deleteRow(i) {
    document.getElementById("name"+i).value = "";
    document.getElementById("monthly"+i).value = "";
    document.getElementById("daily"+i).value = "";
    document.getElementById("absent"+i).value = "";
    document.getElementById("total"+i).innerText = "";
}
</script>
</head>
<body>

<h1>حسابات أجور العمال</h1>
<table>
<tr>
    <th>اسم العامل</th>
    <th>المرتب الشهري</th>
    <th>المرتب اليومي</th>
    <th>أيام الغياب</th>
    <th>المرتب بعد الخصم</th>
    <th>حذف</th>
</tr>

{% for i in range(1, 51) %}
<tr>
    <td><input type="text" id="name{{i}}"></td>
    <td><input type="number" id="monthly{{i}}" oninput="calculate({{i}})"></td>
    <td><input type="number" id="daily{{i}}" oninput="calculate({{i}})"></td>
    <td><input type="number" id="absent{{i}}" oninput="calculate({{i}})"></td>
    <td id="total{{i}}"></td>
    <td><button onclick="deleteRow({{i}})">حذف</button></td>
</tr>
{% endfor %}
</table>

<div class="footer">
    للشكاوي والاستفسارات: <br>
    📞 010-92871909 <br>
    <a href="https://wa.me/201092871909" target="_blank">تواصل على واتساب</a>
</div>

</body>
</html>
"""

@app.route("/")
def index():
    return render_template_string(html_code)

if __name__ == "__main__":
    app.run(debug=True)